/*! For license information please see pixi.inspector.bundle.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={4722:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>InspectorProperties});const blacklist=["children","parent","tempDisplayObjectParent","scope"],whitelist=["transform","position","scale","rotation","pivot","skew","anchor"];class MismatchConstructor{}class InspectorProperties{constructor(t){const e=t.instance.PIXI;this.TransformRef=MismatchConstructor,("function"==typeof e.Transform||"function"==typeof e.TransformBase)&&(this.TransformRef=e.Transform),this.ObservablePointRef="function"==typeof e.ObservablePoint?e.ObservablePoint:MismatchConstructor}all(){if(!window.$pixi)return[];const t=[];for(const e in window.$pixi)"_"!==e[0]&&-1===blacklist.indexOf(e)&&t.push(...this.serialize(window.$pixi[e],[e],3));return t.sort(((t,e)=>t.path>e.path?1:-1)),t}set(path,value){eval("$pixi."+path+" = "+JSON.stringify(value))}serialize(t,e,n){if(--n<0)return[];const r=typeof t;if("undefined"===r||"function"===r)return[];if("string"===r||"number"===r||"boolean"===r||null===t)return[{path:e.join("."),type:r,value:t}];if("object"===r){if(null===t)return[{path:e.join("."),type:r,value:t}];if(Array.isArray(t))return[{path:e.join("."),type:"Array"}];if(-1!==whitelist.indexOf(e[e.length-1])){const r=[];for(const i in t)-1===blacklist.indexOf(i)&&"_"!==i[0]&&r.push(...this.serialize(t[i],[...e,i],n));if(t instanceof this.ObservablePointRef&&r.push({path:e.join(".")+".x",type:"number",value:t.x},{path:e.join(".")+".y",type:"number",value:t.y}),t instanceof this.TransformRef&&r.push({path:e.join(".")+".rotation",type:"number",value:t.rotation}),0!==r.length)return r}return[{path:e.join("."),type:"Object"}]}return[{path:e.join("."),type:void 0!==t.constructor&&t.constructor.name||r}]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var __webpack_exports__={};(()=>{var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t){return"function"==typeof t}var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete:function(){}},c=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function u(t){return null!==t&&"object"==typeof t}var h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,i=r._parentOrParents,o=r._ctorUnsubscribe,s=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var p=0;p<i.length;++p)i[p].remove(this);if(n(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){e=t instanceof h?l(t.errors):[t]}}if(c(a)){p=-1;for(var f=a.length;++p<f;){var d=a[p];if(u(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof h?e=e.concat(l(t.errors)):e.push(t)}}}if(e)throw new h(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function l(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),f=function(t){function n(e,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new d(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new d(o,e,r,i)}return o}return e(n,t),n.prototype[p]=function(){return this},n.create=function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(a),d=function(t){function r(e,r,i,o){var c,u=t.call(this)||this;u._parentSubscriber=e;var h=u;return n(r)?c=r:r&&(c=r.next,i=r.error,o=r.complete,r!==s&&(n((h=Object.create(r)).unsubscribe)&&u.add(h.unsubscribe.bind(h)),h.unsubscribe=u.unsubscribe.bind(u))),u._context=h,u._next=c,u._error=i,u._complete=o,u}return e(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=i.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;o(t)}},r.prototype.__tryOrSetError=function(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(o(e),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(f),y=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function b(t){return t}function v(t){return 0===t.length?b:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(s)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),i.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof f?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=_(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:v(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=_(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function _(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var m=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),x=function(t){function n(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return e(n,t),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},n}(a),g=function(t){function n(e){var n=t.call(this,e)||this;return n.destination=e,n}return e(n,t),n}(f),S=function(t){function n(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return e(n,t),n.prototype[p]=function(){return new g(this)},n.prototype.lift=function(t){var e=new E(this,this);return e.operator=t,e},n.prototype.next=function(t){if(this.closed)throw new m;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},n.prototype.error=function(t){if(this.closed)throw new m;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new m;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(e){if(this.closed)throw new m;return t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(t){if(this.closed)throw new m;return this.hasError?(t.error(this.thrownError),a.EMPTY):this.isStopped?(t.complete(),a.EMPTY):(this.observers.push(t),new x(this,t))},n.prototype.asObservable=function(){var t=new w;return t.source=this,t},n.create=function(t,e){return new E(t,e)},n}(w),E=function(t){function n(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return e(n,t),n.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},n.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.EMPTY},n}(S),I=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},n.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},n}(function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},n}(a)),T=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return e(n,t),n.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},n.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},n.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},n}(I),O=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),P=function(t){function n(e,r){void 0===r&&(r=O.now);var i=t.call(this,e,(function(){return n.delegate&&n.delegate!==i?n.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e(n,t),n.prototype.schedule=function(e,r,i){return void 0===r&&(r=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,r,i):t.prototype.schedule.call(this,e,r,i)},n.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(O),k=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(P))(T),N=new w((function(t){return t.complete()}));function j(t){return t?function(t){return new w((function(e){return t.schedule((function(){return e.complete()}))}))}(t):N}function C(t){return t&&"function"==typeof t.schedule}var R,A=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function z(t,e){return new w((function(n){var r=new a,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function H(t,e){return e?z(t,e):new w(A(t))}R||(R={});var V=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return C(n)?(t.pop(),z(t,n)):H(t)}(this.value);case"E":return t=this.error,new w((function(e){return e.error(t)}));case"C":return j()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),D=function(t){function n(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return e(n,t),n.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},n.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new X(t,this.destination)))},n.prototype._next=function(t){this.scheduleMessage(V.createNext(t))},n.prototype._error=function(t){this.scheduleMessage(V.createError(t)),this.unsubscribe()},n.prototype._complete=function(){this.scheduleMessage(V.createComplete()),this.unsubscribe()},n}(f),X=function(){return function(t,e){this.notification=t,this.destination=e}}(),$=function(t){function n(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return e(n,t),n.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,e)},n.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new L(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},n.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new m;if(this.isStopped||this.hasError?e=a.EMPTY:(this.observers.push(t),e=new x(this,t)),i&&t.add(t=new D(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},n.prototype._getNow=function(){return(this.scheduler||k).now()},n.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},n}(S),L=function(){return function(t,e){this.time=t,this.value=e}}();class Y{constructor(){this.constructors=[],this.names=[]}detectType(t){if(!t.constructor)return"Unknown";const e=this.constructors.indexOf(t.constructor);return-1===e?this.resolveType(t.constructor.name||"Anonymous",t,[t.constructor]):this.names[e]}resolveType(t,e){const n=[];for(const t in this.constructors)e instanceof this.constructors[t]&&n.push(t);if(0===n.length)return t;if(1===n.length)return t+":"+this.names[n[0]];const r=[];for(let t=0;t<n.length;t++){const e=this.constructors[n[t]].prototype;r[t]=0;for(const i of n)r[t]+=e instanceof this.constructors[i]}return t+" ("+this.names[n[function(t){if(0===t.length)return-1;let e=t[0],n=0;for(let r=1;r<t.length;r++)t[r]>e&&(n=r,e=t[r]);return n}(r)]]+")"}registerTypes(t,e,n=1){if(0!==n&&"object"==typeof e)for(const r in e)"function"==typeof e[r]?(this.constructors.push(e[r]),this.names.push(t+r)):"object"==typeof e[r]&&this.registerTypes(t+r+".",e[r],n-1)}}function W(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(t,e))}}var q=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new F(t,this.project,this.thisArg))},t}(),F=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return e(n,t),n.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(f);function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var B=M(),G=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function U(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var K=function(t){if(t&&"function"==typeof t[y])return r=t,function(t){var e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(G(t))return A(t);if(U(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,o),t};if(t&&"function"==typeof t[B])return e=t,function(t){for(var n=e[B]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=u(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Z(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w((function(n){var r=new a;return r.add(e.schedule((function(){var i=t[y]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(U(t))return function(t,e){return new w((function(n){var r=new a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(G(t))return z(t,e);if(function(t){return t&&"function"==typeof t[B]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w((function(n){var r,i=new a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[B](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(K(t))}var J=function(t){function n(e){var n=t.call(this)||this;return n.parent=e,n}return e(n,t),n.prototype._next=function(t){this.parent.notifyNext(t)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},n}(f),Q=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(){this.destination.complete()},n}(f);function tt(t,e){if(!e.closed){if(t instanceof w)return t.subscribe(e);var n;try{n=K(t)(e)}catch(t){e.error(t)}return n}}function et(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(et((function(n,r){return Z(t(n,r)).pipe(W((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new nt(t,n))})}var nt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.project,this.concurrent))},t}(),rt=function(t){function n(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return e(n,t),n.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},n.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},n.prototype._innerSub=function(t){var e=new J(this),n=this.destination;n.add(e);var r=tt(t,e);r!==e&&n.add(r)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(Q);function it(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),et(b,t)}function ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return C(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof w?t[0]:it(n)(H(t,r))}function st(t,e,r,i){return n(r)&&(i=r,r=void 0),i?st(t,e,r).pipe(W((function(t){return c(t)?i.apply(void 0,t):i(t)}))):new w((function(n){ct(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}function ct(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var c=t;t.on(e,n),o=function(){return c.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var h=0,a=t.length;h<a;h++)ct(t[h],e,n,r,i)}r.add(o)}var ut=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ht(t,this.compare,this.keySelector))},t}(),ht=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return e(n,t),n.prototype.compare=function(t,e){return t===e},n.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},n}(f);function at(t,e){return"function"==typeof e?function(n){return n.pipe(at((function(n,r){return Z(t(n,r)).pipe(W((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new lt(t))}}var lt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new pt(t,this.project))},t}(),pt=function(t){function n(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return e(n,t),n.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e)},n.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new J(this),r=this.destination;r.add(n),this.innerSubscription=tt(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},n.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=void 0},n.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},n.prototype.notifyNext=function(t){this.destination.next(t)},n}(Q);function ft(){}function dt(t,e,n){return function(r){return r.lift(new yt(t,e,n))}}var yt=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new bt(t,this.nextOrObserver,this.error,this.complete))},t}(),bt=function(t){function r(e,r,i,o){var s=t.call(this,e)||this;return s._tapNext=ft,s._tapError=ft,s._tapComplete=ft,s._tapError=i||ft,s._tapComplete=o||ft,n(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||ft,s._tapError=r.error||ft,s._tapComplete=r.complete||ft),s}return e(r,t),r.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},r.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},r}(f),vt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},n.prototype.notifyError=function(t,e){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.complete()},n}(f),wt=function(t){function n(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return e(n,t),n.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},n.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(f);function _t(t,e,n,r,i){if(void 0===i&&(i=new wt(t,n,r)),!i.closed)return e instanceof w?e.subscribe(i):K(e)(i)}var mt=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new xt(t,this.observables,this.project))},t}(),xt=function(t){function n(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var c=n[s];i.add(_t(i,c,void 0,s))}return i}return e(n,t),n.prototype.notifyNext=function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},n.prototype.notifyComplete=function(){},n.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},n.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(vt),gt=new P(I);function St(t,e){return void 0===e&&(e=gt),function(n){return n.lift(new Et(t,e))}}var Et=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new It(t,this.dueTime,this.scheduler))},t}(),It=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return e(n,t),n.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Tt,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},n.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},n}(f);function Tt(t){t.debouncedNext()}var Ot={},Pt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.resultSelector))},t}(),kt=function(t){function n(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return e(n,t),n.prototype._next=function(t){this.values.push(Ot),this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(_t(this,r,void 0,n))}}},n.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},n.prototype.notifyNext=function(t,e,n){var r=this.values,i=r[n],o=this.toRespond?i===Ot?--this.toRespond:this.toRespond:0;r[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},n.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(vt);function Nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&c(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Z([e].concat(t)),new Pt(n))}}const jt={div:null,renderer:null,PIXI:null,Stage:null};class Ct{constructor(t){jt.PIXI||this.initOverlay(t),this.stage=new jt.Stage,jt.Stage!==(jt.PIXI.Container||jt.PIXI.DisplayObjectContainer)?(this.container=new jt.PIXI.DisplayObjectContainer,this.stage.addChild(this.container)):this.container=this.stage,this.offset={canvas:{x:0,y:0},iframe:{x:0,y:0}},this.size={canvas:{width:800,y:600},renderer:{width:800,y:600}},t.registerHook("beforeRender",this.updateRenderer.bind(this),5e3),t.registerHook("beforeRender",this.render.bind(this)),this.rightclick$=new S,this.renderer$=new $(1);const e=this.renderer$.pipe(W((t=>t.view)),(function(t){return t.lift(new ut(undefined,undefined))}));const n=e.pipe(W((t=>{for(const e of document.querySelectorAll("canvas"))if(e===t)return null;for(const e of document.querySelectorAll("iframe"))try{for(const n of e.contentDocument.querySelectorAll("canvas"))if(n===t)return e}catch(t){}return null})),function(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,c=t.refCount,u=t.scheduler,h=0,a=!1,l=!1;return function(t){var r;h++,!e||a?(a=!1,e=new $(i,s,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){a=!0,e.error(t)},complete:function(){l=!0,n=void 0,e.complete()}}),l&&(n=void 0)):r=e.subscribe(this),this.add((function(){h--,r.unsubscribe(),r=void 0,n&&!l&&c&&0===h&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}(1)),r=e.pipe(at((t=>ot(st(t,"contextmenu").pipe(dt((t=>{t.preventDefault()}))),st(t,"pointerdown",{capture:!0}).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new mt(r,n))}}(n,this.renderer$),dt((([e,n,r])=>{const i="touch"===e.pointerType&&e.altKey;if(3===e.which||i){this.calculateOffset(t,n);const i={x:this.resolution.x/r.resolution,y:this.resolution.y/r.resolution},o=(e.clientX-this.offset.canvas.x)*i.x,s=(e.clientY-this.offset.canvas.y)*i.y;this.rightclick$.next({x:o,y:s,event:e})}}))))))),i=st(window,"resize").pipe(St(100),dt((()=>{jt.renderer.resize(window.innerWidth,window.innerHeight),jt.renderer.view.style.width=window.innerWidth+"px",jt.renderer.view.style.height=window.innerHeight+"px"})),at((()=>n.pipe(Nt(e),dt((([t,e])=>{this.calculateOffset(e,t)})))))),o=n.pipe(Nt(e),at((([t,e])=>{const n=[window].concat(Rt(t)).concat(Rt(e));return t&&n.push(t.contentWindow),ot(...n.map((t=>st(t,"scroll")))).pipe(St(50),dt((()=>{this.calculateOffset(e,t)})))})));this.subscription=t.enabled$.pipe(dt((t=>{jt.div.removeAttribute("style")})),at((t=>!1===t?j():ot(i,o,r,e.pipe(Nt(n),dt((([t,e])=>{this.calculateOffset(t,e)}))))))).subscribe()}get resolution(){return{x:this.size.renderer.width/this.size.canvas.width,y:this.size.renderer.height/this.size.canvas.height}}initOverlay(t){jt.PIXI=t.instance.PIXI,jt.Stage=jt.PIXI.Container||jt.PIXI.Stage||jt.PIXI.DisplayObjectContainer,jt.div=document.createElement("div"),jt.div.id="pixi-inspector-overlay";const e=document.createElement("style");e.textContent="\n      #pixi-inspector-overlay {\n        position: fixed;\n        z-index: 16000000;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        pointer-events: none;\n        overflow: hidden;\n      }\n      #pixi-inspector-overlay canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n      ",jt.div.appendChild(e),document.body.appendChild(jt.div);const n=document.createElement("canvas");n.style.width=window.innerWidth+"px",n.style.height=window.innerHeight+"px";const r={resolution:window.devicePixelRatio,view:n};let i;parseInt(jt.PIXI.VERSION,10)>=6?r.backgroundAlpha=0:r.transparent=!0,i=void 0!==jt.PIXI.Renderer?jt.PIXI.Renderer:jt.PIXI.WebGLRenderer,1===i.length?jt.renderer=new i(Object.assign({canvas:n,camera:{_shake:{x:0,y:0}},width:window.innerWidth,height:window.innerHeight},r)):jt.renderer=new i(window.innerWidth,window.innerHeight,r),jt.div.appendChild(n)}render(){jt.renderer&&jt.renderer.render(this.stage)}updateRenderer(t,e){this.renderer=e,this.renderer$.next(e)}calculateOffset(t,e){const n=t.getBoundingClientRect();if(this.offset.canvas.x=n.left,this.offset.canvas.y=n.top,this.size.canvas.width=n.width,this.size.canvas.height=n.height,this.size.renderer.width=this.renderer.width,this.size.renderer.height=this.renderer.height,e){const t=e.getBoundingClientRect();this.offset.iframe.x=t.left,this.offset.iframe.y=t.top}else this.offset.iframe.x=0,this.offset.iframe.y=0;this.container.position.x=this.offset.iframe.x+this.offset.canvas.x,this.container.position.y=this.offset.iframe.y+this.offset.canvas.y}}function Rt(t){if(null===t)return[];const e=[];for(;t.parentElement;)e.push(t.parentElement),t=t.parentElement;return e}class At{constructor(t){this.gui=t.gui,this.graphics=new jt.PIXI.Graphics,t.gui.container.addChild(this.graphics),t.registerHook("afterRender",this.update.bind(this))}update(t,e){const n=this.graphics,r=At.node;if(r&&r.parent){n.visible=!0,n.clear(),n.beginFill(32511,.3),n.lineStyle(1,32511,.6);const t=r.getBounds(),i=At.getHtmlElementScale(e.view),o=e.screen?{x:e.view.offsetWidth*i/e.screen.width,y:e.view.offsetHeight*i/e.screen.height}:{x:this.gui.resolution.x/e.resolution,y:this.gui.resolution.y/e.resolution};n.drawRect(t.x*o.x,t.y*o.y,t.width*o.x,t.height*o.y);const s=t.x+t.width<0||t.y+t.height<0||e.width/e.resolution<t.x*o.x||e.height/e.resolution<t.y*o.y;n.lineStyle(2,s?16711680:32511,.3).moveTo(e.width/e.resolution/2,e.height/e.resolution/2).lineTo(t.x*o.x+t.width*o.x/2,t.y*o.y+t.height*o.y/2),n.endFill()}else n.visible=!1}static getHtmlElementScale(t){if(!window.getComputedStyle||!t)return 1;const{transform:e}=window.getComputedStyle(t),n=e.match(/^matrix3d\((.+)\)$/);if(n)return parseFloat(n[1].split(", ")[13]);const r=e.match(/^matrix\((.+)\)$/);return r?parseFloat(r[1].split(", ")[3]):1}}At.node=!1;const zt=Symbol("outliner");class Ht{constructor(t){this.inspector=t,this.root={children:[],[zt]:{id:0,type:"root",collapsed:!1,parent:null}},this.nodes=[this.root],this.previousTree={},this.previewSearth="",this.inspector.registerHook("beforeRender",this.detectScene.bind(this)),this.inspector.registerHook("beforeRender",this.detectChanges.bind(this),250),this.inspector.gui.rightclick$.subscribe((({x:e,y:n})=>{const r=new t.instance.PIXI.Point(e,n);if(this.root.children.length)for(let t=this.root.children.length-1;t>=0;t--){const e=this.nodeAt(this.root.children[t],r);if(e){window.$pixi=e,At.node=e,this.inspector.emit("SELECTED",this.serialize(e));let t=e;for(;t.parent;)t=t.parent,t[zt]||this.serialize(t),t[zt].collapsed=!1;this.inspector.emit("TREE",this.serialize(this.root));break}}}))}select(t){const e=this.nodes[t];e&&(window.$pixi=e,At.node=e)}logToConsole(){console.log(window.$pixi)}selected(){if(window.$pixi){const t=window.$pixi[zt].id;if(this.nodes[t]&&this.nodes[t]===window.$pixi)return this.serialize(this.nodes[t])}return!1}tree(){return this.serialize(this.root)}expand(t){const e=this.nodes[t];if(e)return e[zt].collapsed=!1,this.serialize(e).children}collapse(t){const e=this.nodes[t];if(e)return e[zt].collapsed=!0,this.serialize(e).children}searchFilter(t){const e=(e,n)=>e[zt][n]&&e[zt][n].toLowerCase().includes(t.toLowerCase());if(t)for(const t of this.nodes)t[zt].found=e(t,"name")||e(t,"type"),t[zt].found&&this.extendAllParents(t);else for(const t of this.nodes)t[zt].found=!1;return this.serialize(this.root).children}extendAllParents(t){for(const e of this.nodes)t[zt].parent===e[zt].id&&(e[zt].collapsed=!1,this.extendAllParents(e))}highlight(t){const e=this.nodes[t];At.node=e||!1}detectScene(t){-1===this.root.children.indexOf(t)&&(this.root.children.push(t),this.serialize(t),t[zt].collapsed=!1,this.inspector.emit("TREE",this.serialize(this.root)),window.$pixi||(window.$pixi=t,this.inspector.emit("SELECTED",this.serialize(t))))}detectChanges(t){if(t[zt]){const e=t[zt].id;Vt(t,this.previousTree[e])&&(this.serialize(t),this.inspector.emit("TREE",this.root[zt]),this.previousTree[e]=t[zt])}}nodeAt(t,e){if(!1===t.visible)return!1;if(t.children&&t.children.length)for(let n=t.children.length-1;n>=0;n--){const r=this.nodeAt(t.children[n],e);if(r)return r}if(t.containsPoint){if(t.containsPoint(e))return t}else if(t.getBounds&&t.getBounds().contains(e.x,e.y))return t;return!1}serialize(t){return void 0===t[zt]&&(t[zt]={id:-1,name:t.name,type:this.inspector.typeDetection.detectType(t),collapsed:!(!t.parent||!t.parent[zt])&&null!==t.parent[zt].parent,children:null},t[zt].id=this.nodes.push(t)-1),t.parent&&t.parent[zt]?t[zt].parent=t.parent[zt].id:t[zt].parent=null,Array.isArray(t.children)?0===t.children.length?t[zt].children=!1:!1===t[zt].collapsed||t[zt].parent&&!t[zt].parent.found?t[zt].children=t.children.map((t=>this.serialize(t))):t[zt].children=!0:t[zt].children=!1,t[zt]}}function Vt(t,e){if(!e)return!0;if(!t[zt])return!0;if(t[zt].id!==e.id)return!0;if(e.collapsed){if(Array.isArray(t.children)){if(t.children.length>0!==e.children)return!0}else if(!0===e.children)return!0}else{const n=t.children.length;if(n!==e.children.length)return!0;for(let r=0;r<n;r++)if(Vt(t.children[r],e.children[r]))return!0}return!1}var Dt=__webpack_require__(4722);let Xt=!1;function $t(t,e,n){if(!Xt){Xt=!0;for(const r of t)r.skip||(r.callback(e,n),r.throttle&&(r.skip=!0,setTimeout((()=>{r.skip=!1}),r.throttle)));Xt=!1}}if(void 0===window.__PIXI_INSPECTOR_GLOBAL_HOOK__)throw new Error("content_script was not (yet) executed");window.__PIXI_INSPECTOR_GLOBAL_HOOK__.Inspector?console.warn("pixi.inspector was already injected into the page"):window.__PIXI_INSPECTOR_GLOBAL_HOOK__.Inspector=class{constructor(t,e){this.instance=t,this.emit=e,this.unpatched={},this.hooks={beforeRender:[],afterRender:[]},this.enabled$=new $(1),this.typeDetection=new Y;const n=window.console;window.console={warn(){}},this.typeDetection.registerTypes("PIXI.",t.PIXI,2),t.Phaser&&this.typeDetection.registerTypes("Phaser.",t.Phaser),window.console=n,this.gui=new Ct(this),this.outliner=new Ht(this),this.properties=new Dt.ZP(this),this.highlight=new At(this)}enable(){this.unpatched.CanvasRenderer||this.patch("CanvasRenderer"),void 0!==this.instance.PIXI.Renderer?this.unpatched.Renderer||this.patch("Renderer"):this.unpatched.WebGLRenderer||this.patch("WebGLRenderer"),this.enabled$.next(!0)}disable(){for(const[t,e]of Object.entries(this.unpatched))this.instance.PIXI[t].prototype.render=e;this.unpatched={},this.enabled$.next(!1)}patch(t){if(this.unpatched[t])return void console.warn(t+" already patched");const e=this.instance.PIXI[t];if(e&&e.prototype.render){const n=e.prototype.render;this.unpatched[t]=n;const r=this;e.prototype.render=function(t,...e){$t(r.hooks.beforeRender,t,this);const i=n.apply(this,[t,...e]);return $t(r.hooks.afterRender,t,this),i}}}registerHook(t,e,n=0){const r={callback:e,throttle:n,skip:!1};return this.hooks[t].push(r),()=>{const e=this.hooks[t].indexOf(r);-1!==e&&this.hooks[t].splice(e,1)}}}})()})();